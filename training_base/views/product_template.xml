<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright 2018 Nicolas JEUDY
     License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl). -->

<odoo>
    <record id="learning_base_product_template_form" model="ir.ui.view">
        <field name="name">product.template.learning.form.inherit</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_form_view"/>
        <field name="arch" type="xml">
            <field name="event_ok" position="after">
                    <field name="is_training"/>
            </field>
            <button name="toggle_active" position="before">
                <button name="%(ir_actions_act_window_session_r0)d"
                            type="action"
                            class="oe_stat_button"
                            icon="fa-pencil-square-o"
                            context="{'search_default_training_id': active_id, 'default_training_id': active_id}"
                            attrs="{'invisible': [('count_session', '=', 0)]}">
                            <field name="count_session" widget="statinfo" string="Sessions"/>
                </button>
            </button>

            <page name="sales" position="after">
              <page string="Training" attrs="{'invisible':[('is_training','=',False)]}" name="training">
                <group name="Informations">
                  <group>
                    <field name="domain_id"/>
                    <field name="contact_id"/>
                  </group>
                  <group>
                    <field name="price_info"/>
                    <field name="duration_info"/>
                  </group>
                </group>
                <group>
                  <field name="learning_level" widget="many2many_tags"/>
                </group>
                <div name="training_data">
                  <separator string="Presentation"/>
                  <field name="content" widget="html"/>
                    <separator string="Objectifs"/>
                    <field name="goal" widget="html"/>
                    <separator string="Contenu"/>
                    <field name="description" widget="html"/>
                    <separator string="Nos plus"/>
                    <field name="our_value" widget="html"/>
                    <separator string="Public"/>
                    <field name="public" widget="html"/>
                    <separator string="ModalitÃ©"/>
                    <field name="methodology" widget="html"/>
                    <separator string="Validation"/>
                    <field name="validate" widget="html"/>
                </div>
                <group string="Subjects" name="subject">
                            <field name="subject_ids" nolabel="1"/>
                        </group>
              </page>
            </page>
        </field>
    </record>
</odoo>
